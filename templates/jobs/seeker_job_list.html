{% extends 'base.html' %}
{% block title %}All Jobs{% endblock %}

{% block content %}
<h2>Available Job Listings</h2>

<div class="job-list" style="max-width: 800px; margin: 0 auto;">
  {% if jobs %}
    {% for job in jobs %}
      <div class="job-card" style="background-color: white; padding: 20px; margin: 15px 0; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
        <h4 style="margin: 0 0 5px; color: #0056b3;">{{ job.title }}</h4>
        <p><strong>Company:</strong> {{ job.poster.email }}</p>
        <p><strong>Location:</strong> {{ job.location }}</p>
        <p><strong>Type:</strong> {{ job.job_type }}</p>
        <p><strong>Salary:</strong> â‚¹{{ job.salary }}</p>

        {% if user and user.role == 'Job Seeker' %}
          <form method="GET" action="{{ url_for('job.apply_to_job', job_id=job.id) }}">
            <button type="submit" style="margin-top: 10px; padding: 10px; background-color: #0056b3; color: white; border: none; border-radius: 5px; cursor: pointer;">Apply</button>
          </form>
        {% endif %}
      </div>
    {% endfor %}
  {% else %}
    <p style="text-align: center;">No jobs posted yet.</p>
  {% endif %}
</div>
{% endblock %}
